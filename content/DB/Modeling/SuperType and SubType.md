---
tags:
  - database
  - modeling
---

> 유사한 속성(Attribute)을 가진 Entity들을 하나의 Entity로 일반화하여 Supertype(공통 속성)과 Subtype(구분 속성?)으로 구분한다.<br/>
>  각 Subtype은 서로 배타적 관계이다.<br/>



### Subtype과 참조 관계
> 서브타입 속성 값에 따라 서브타입 엔터티들도 타 엔터티와 배타적으로 연결될 때 배타적 관계 표시를 할 수 있다.


### 서브타입의 물리모델 변환

> 서브타입의 물리적 변환은 두가지 경우가 가능하며 각자 장단점이 존재한다.

#### 1. 통합 Entity로 변환

| 장점                                                                     | 단점                                  |
| ---------------------------------------------------------------------- | ----------------------------------- |
| 서브타입 구분 없는 데이터 접근이 간편하다.<br/>(조회시 JOIN이 필요 없다.)<br/>(Entity Integrity) | Table의 Column 수가 증가한다.              |
| View를 활용해 각 서브타입 조회 및 수정이 가능하다.                                        | 서브타입 별로 처리시 서브타입의 구분이 필요해지는 경우가 많다. |
|                                                                        | 특정한 Subtype을 NOT NULL로 제한할 수 없다.    |

#### 2. 각 Subtype마다 하나의 Entity로 변환

| 장점                                                      | 단점                                                           |
| ------------------------------------------------------- | ------------------------------------------------------------ |
| 서브타입 별로 처리시 서브타입의 유형 구분이 불필요하다.<br/> (Entity Integrity) | 전체적인 데이터를 처리하는 경우 UNION이 발생한다.                               |
| 단위 테이블의 크기가 감소한다.                                       | 여러 테이블을 합친 VIEW는 조회만 가능하며 인스턴스를 개별적으로 구분하기 위한 UID 유지 관리가 어렵다 |
| 불필요한 COLUMN이 줄어든다.                                      | 복잡한 SQL 처리시 통합이 어렵다.                                         |



#### Subtype 속성의 NULLABLE
> 물리모델로 변환할 때는 배타적 관계에 해당하는 서브타입의 속성들은 NULL값이 들어올 수 있음을 고려해야 한다.


