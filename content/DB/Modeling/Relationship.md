---
tags:
  - database
  - modeling
---

> association among several entities

### 관계
1. 두 개 이상의 엔터티 간에 존재하는 연관성
2. 하위(자식) 엔터티의 속성으로 관리될 때만 관계를 표현한다.  
3. 관계에는 종속관계와 참조 관계가 있다.  
	1. 종속관계: 부모 엔터티와 자식 엔터티 간의 관계로 부모 엔터티가 존재해야 자식 엔터티가 존재할 수 있다. 반대로 말하면 부모 엔터티 없이 관계를 삭제하고 자식 엔터티만 존재할 수 없다.  
	2. 참조관계: 엔터티간에 연관성이 존재하긴 하지만 다른 엔터티가 없다고 존재할 수 없는 관계는 아니다. 단순히 참조 데이터를 관리하므로 관계를 삭제해도 한 속성에 대한 연관성만 문제가 되고 하위 엔티티 존재에는 지장이 없다

### 관계의 구성 요소
1. Cardinality: 몇대 몇인가?
	1. 상위 Entity의 인스턴스 하나가 하위 Entity의 인스턴스 몇개와 관련있는지, 혹은 그 반대를 나타냄
	2. M:N관계인 경우  교차 엔터티(Association Entity)를 통해 M:1, 1:N으로 분리해야됨
3. Optionality: 필수적인가?
	1. 서로 연관되는 값이 반드시 존재하면 Mandatory(1개 이상)
	2. 아니면 Optional(0개 이상)
4. Relation Degree
	1. 하나의 관계에 포함된 Entity의 개수를 의미
	2. 하나의 관계는 하나의 엔터티나 두개의 엔터티 뿐 아니라 3개 이상의 엔터티에서도 발생한다.
	3. 1개체 관계(Unary Relationship): 한 개의 엔터티가 연관된 관계(재귀관계(RecursiveRelationships))  
4. 2개체 관계(Binary Relationships): 두 개의 엔터티가 연관된 관계  
5. 3개체 관계(Ternary Relationships): 세 개의 엔터티가 연관된 관계  
6. N개체 관계(N-ary Relationships): N개의 엔터티가 연관된 관계

#### 특별한 관계의 종류
##### 1. 일대일 관계
1. 상위(부모)엔터티의 하나의 인스턴스가 하위(자식)엔터티의 하나의 인스턴스와 연관되는 관계를 말한다.  
2. 성능이나 업무 규칙에 의해 일대일 관계를 채택할 수 있다.  
3. 데이터의 성격이 다르면 업무를 표현하기 위해서 일대일 관계를 채택할 수도 있다.  
4. 유사한 속성을 과도하게 일대일로 분해하는 것은 유의해야 한다.

##### 2. 배타관계(Exclusive Relationship)
1. 두 개 이상의 상위(부모) 엔터티와 관계를 가지며 상호 배타적(하위(자식)엔터티의 하나의 인스턴스가 한번에 하나의 부모 엔터티와 관계를 가지게 됨)일 때의 관계를 말한다.
2. 예를 들어 Super Type과 Sub Type으로 나뉘는 경우 두 Sub Type 사이에는 배타 관계가 형성된다.

##### 재귀관계(Recursive Relationship)
1. 하나의 Entity에서 인스턴스가 같은 엔터티의 다른 인스턴스와 관계를 가짐
2. 주로 계층 구조로 상위와 하위의 개념인 계층 구조(레벨)가 생기는 데이터를 관리할 때 사용되며, 엔터티의 개수가 늘어나 JOIN연산할 Entity가 늘어나는 것을 방지한다.
3. ex) 상위 카테고리와 하위 카테고리, 댓글과 대댓글 관리